(()=>{var e={};e.id=311,e.ids=[311],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},38216:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>l}),r(40420),r(77134),r(13321),r(42255),r(35629),r(19644),r(35866);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),o=r(95231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let l=["",{children:["dashboard",{children:["transaction",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,40420)),"/Users/briggiz/Desktop/fastrack-admin/app/dashboard/transaction/[id]/page.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,77134)),"/Users/briggiz/Desktop/fastrack-admin/app/dashboard/transaction/[id]/loading.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,13321)),"/Users/briggiz/Desktop/fastrack-admin/app/dashboard/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,42255)),"/Users/briggiz/Desktop/fastrack-admin/app/dashboard/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,35629)),"/Users/briggiz/Desktop/fastrack-admin/app/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,19644)),"/Users/briggiz/Desktop/fastrack-admin/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/briggiz/Desktop/fastrack-admin/app/dashboard/transaction/[id]/page.tsx"],u="/dashboard/transaction/[id]/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/transaction/[id]/page",pathname:"/dashboard/transaction/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},92578:(e,t,r)=>{let s={"5a3cc2e035857dd74aa301ed8bbf2d97e89b6d40":()=>Promise.resolve().then(r.bind(r,66672)).then(e=>e.fetchAdmin)};async function a(e,...t){return(await s[e]()).apply(null,t)}e.exports={"5a3cc2e035857dd74aa301ed8bbf2d97e89b6d40":a.bind(null,"5a3cc2e035857dd74aa301ed8bbf2d97e89b6d40")}},45105:(e,t,r)=>{Promise.resolve().then(r.bind(r,3136))},3136:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(10326),a=r(76865),n=r(90434),i=r(41135);function o({transaction:e}){if(!e)return s.jsx("div",{className:"p-8 text-center",children:s.jsx("p",{className:"text-lg font-semibold text-red-600",children:"Transaction not found or failed to load."})});let{amount:t=0,status:r="pending",createdAt:a,type:o="transaction",fee:d=0,updatedAt:l,transactionId:c,user:u}=e,p=Array.from({length:a===l&&"success"===r||"success"===r||"error"===r?2:1},(e,t)=>({title:0===t?`${o} Initiated`:`${o} ${r}`,date:0===t?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}));return(0,s.jsxs)("section",{className:"mx-auto py-10 flex w-full max-w-[800px] flex-col items-center gap-10",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Amount"}),(0,s.jsxs)("span",{className:"text-6xl font-bold",children:["$",t]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 rounded-full border px-3 py-1",children:[s.jsx("span",{className:(0,i.Z)("h-2 w-2 rounded-full","pending"===r&&"bg-yellow-500","success"===r&&"bg-green-600","error"===r&&"bg-red-700")}),s.jsx("span",{className:"font-bold capitalize",children:r})]})]}),s.jsx("div",{className:"flex w-full max-w-[502px] flex-col rounded-2xl border p-6",children:p.map((e,t)=>(0,s.jsxs)("div",{className:"flex w-full flex-col border-b py-4 last:border-b-0",children:[s.jsx("p",{className:"font-bold",children:e.title}),s.jsx("span",{className:"text-sm text-gray-500",children:e.date})]},t))}),(0,s.jsxs)("div",{className:"w-full max-w-[500px]",children:[s.jsx("p",{className:"text-xl font-bold",children:"Transaction Details"}),(0,s.jsxs)("div",{className:"mt-3 space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Transaction ID"}),s.jsx("strong",{children:c})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:[o," Amount"]}),(0,s.jsxs)("strong",{children:["$",t]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Fees"}),(0,s.jsxs)("strong",{children:["$",d]})]}),u?.email&&(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{children:"User Email"}),s.jsx("strong",{children:u.email})]})]})]}),(0,s.jsxs)("div",{className:"flex w-full max-w-[500px] gap-4",children:[s.jsx(n.default,{href:"/dashboard",className:"flex-1 text-center p-3 rounded bg-gray-800 text-white",children:"Return to Dashboard"}),s.jsx("button",{className:"flex-1 p-3 rounded bg-orange-400",onClick:()=>window.history.back(),children:"Go Back"})]})]})}var d=r(67501),l=r(14412),c=r(35047);let u=function(){let{id:e}=(0,c.useParams)(),t=(0,c.useRouter)(),{isPending:r,isError:n,data:i,error:u}=(0,l.a)({queryKey:["transaction"],queryFn:()=>(0,d.KI)(e)});return(e||t.push("/dashboard"),r)?s.jsx(a.Z,{}):s.jsx(o,{transaction:i})}},67501:(e,t,r)=>{"use strict";r.d(t,{G:()=>a,KI:()=>d,LA:()=>c,R8:()=>n,Te:()=>o,gf:()=>l,mP:()=>u,x4:()=>i});var s=r(77109);let a=async e=>{try{let t=await fetch("/api/admin-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(200!==t.status)throw Error("Invalid code");return t.json()}catch(e){throw Error("Invalid code")}},n=async e=>{try{let t=await fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(201!==t.status){let e=await t.json();throw Error(e.message)}return t.json()}catch(e){throw e}},i=async e=>{let{email:t,password:r}=e;try{let e=await (0,s.signIn)("credentials",{email:t,password:r,redirect:!1});if(!e?.ok){if(e?.error){let t=Error();throw t.message=e.error,t.status=401,t}{let e=Error();throw e.message="Login failed",e.status=500,e}}}catch(e){throw e}},o=async e=>{try{let t=await fetch("/api/customer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});if(!t.ok){let e=await t.text();throw Error(e)}return t.json()}catch(e){throw e}},d=async e=>{let t=await fetch("/api/transaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transactionId:e})});if(!t.ok)throw Error((await t.json()).error||"Failed to fetch transaction");return t.json()},l=async e=>{try{let t=await fetch("/api/topup-bal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(200!==t.status){let e=await t.json();throw Error(e.message)}return t.json()}catch(e){throw e}},c=async e=>{try{let t=await fetch("/api/delete-customer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(200!==t.status){let e=await t.json();throw Error(e.message)}return t.json()}catch(e){throw e}};function u(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e)}},77134:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(19510),a=r(19039);let n=function(){return s.jsx(a.Z,{})}},40420:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/briggiz/Desktop/fastrack-admin/app/dashboard/transaction/[id]/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,609,17,162,666,880],()=>r(38216));module.exports=s})();